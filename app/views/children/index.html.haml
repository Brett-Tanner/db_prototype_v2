- columns = %w[ssid name katakana_name en_name category allergies hat parent]
- unsearchable = %w[allergies category hat parent]

%main#children-index
  = link_to t('.create_child'), new_child_path, class: 'btn btn-primary'

  - if current_user.admin? || current_user.area_manager?
    = render 'shared/school_nav',
             schools: @schools,
             school: @school,
             indexed_resource: 'children'

  = render 'shared/search',
           fields: columns.reject { |col| unsearchable.include?(col) },
           resource: 'Child'

  = paginate @children, window: 40

  %table.table.table-hover.table-striped.text-center
    %thead
      %tr.table-primary
        - columns.each do |col|
          %th{ scope: col }= t(".#{col}")
        %th

    %tbody
      = render partial: 'children/child', collection: @children

  = paginate @children, window: 40
