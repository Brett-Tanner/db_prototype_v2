<main id="price_list_edit">
    <%= form_with model: @price_list, html: { class: 'card' } do |f| %>
        <div class="form-floating">
            <%= f.text_field :name, class: 'form-control',
                                    placeholder:  t('.name'),
                                    required: true %>
            <%= f.label :name, t('.name'), class: 'form-label' %>
        </div>

        <h2><%= t('.courses') %></h2>
        <% if @price_list.courses.nil? %>
            <% courses = [1, 5, 10, 15, 20, 25, 30, 35, 40, 45, 50] %>

            <% courses.each do |course| %>
                <div class="form-floating input-group">
                    <%= number_field_tag "price_list[course#{course}]",
                                         '',
                                         class: 'form-control',
                                         placeholder: "#{course} #{course > 1 ? 'Activities' : 'Activity'}" %>

                    <%= label_tag "price_list[course#{course}]",
                                  "#{course} #{course > 1 ? 'Activities' : 'Activity'}",
                                  class: 'form-label' %>
                    <span class="input-group-text">円</span>
                </div>
            <% end %>
        <% else %>
            <% f.hidden_field :id %>

            <% @price_list.courses.each do |course, cost| %>
                    <div class="form-floating input-group">
                        <%= number_field_tag "price_list[course#{course}]",
                                             cost,
                                             class: 'form-control',
                                             placeholder: course,
                                             required: true %>

                        <%= label_tag "price_list[course#{course}]",
                                      course,
                                      class: 'form-label' %>
                        <span class="input-group-text">円</span>
                    </div>
            <% end %>
        <% end %>

        <%= f.submit class: 'btn btn-primary' %>
    <% end %>
</main>