<%= form_with model: @event, html: { class: 'card' } do |f| %>

    <%= f.fields_for :time_slots do |slot_f| %>
        <%= render 'time_slots/slot_fields', f: slot_f %>
    <% end %>

    <template data-fields-target="template">
        <%= f.fields_for :time_slots, TimeSlot.new(event_id: @event.id), child_index: 'CHILD' do |slot_f| %>
            <%= render 'time_slots/slot_fields', f: slot_f %>
        <% end %>
    </template>
        
    <div data-fields-target="target"></div>

    <div class="d-flex gap-3 align-items-center justify-content-around">
        <%= button_tag t('.add_time_slot'), data: { action: "fields#add" }, class: 'btn btn-primary' %>
        <%= f.submit class: 'btn btn-primary' %>
    </div>
<% end %>