<div class="card event-card">
    <% if current_user.staff? && child.nil? %>
    
        <%= (link_to image_tag(url_for(event.image), class: 'img-fluid img-thumbnail'), children_path(source: 'Event', id: event.id)) unless event.image.blank? %>
    
        <div class="d-flex justify-content-center align-items-center flex-column flex-grow-1 gap-3">
            <p class="fw-bold"><%= link_to t('.title', name: event.name, school: event.school.name), children_path(source: 'Event', id: event.id) %></p>
            <p><%= event.f_start_date %></p>
            <% if current_user.admin? %>
                <div class="event_management">
                    <%= link_to t('.edit'), edit_event_path(event), class: 'btn btn-primary' %>
                    <%= link_to t('.delete'), event_path(event), data: {turbo_method: :delete, turbo_confirm: t('.delete_confirm')}, class: 'btn btn-primary' %>
                </div>
            <% end %>
        </div>
    
    <% elsif child %>
    
        <%= (link_to image_tag(url_for(event.image), class: 'img-fluid img-thumbnail'), event_path(id: event, child: child.id)) unless event.image.blank? %>

        <div class="d-flex justify-content-center align-items-center flex-column flex-grow-1 gap-3">
            <p class="fw-bold"><%= link_to t('.title', name: event.name, school: event.school.name), event_path(id: event, child: child.id) %></p>
            <p><%= event.f_start_date %></p>
        </div>
    
    <% else %>
    
        <%= (link_to image_tag(url_for(event.image), class: 'img-fluid img-thumbnail'), event_path(id: event, child: current_user.children.first.id)) unless event.image.blank? %>

        <div class="d-flex justify-content-center align-items-center flex-column flex-grow-1 gap-3">
            <p class="fw-bold"><%= link_to t('.title', name: event.name, school: event.school.name), event_path(id: event, child: current_user.children.first.id) %></p>
            <p><%= event.f_start_date %></p>
        </div>
    
    <% end %>
</div>