<div class="option">
    <% registration = child.registrations.where(registerable: option).first %>

    <% unless registration.present? %>
        <%= form_with model: Registration.new do |f| %>
            <%= option.name %>
            <%= f.hidden_field :cost, value: option.cost %>
            <%= f.hidden_field :child_id, value: child.id %>
            <%= f.hidden_field :registerable_id, value: option.id %>
            <%= f.hidden_field :registerable_type, value: 'Option' %>
            <%= f.submit t('.reg_for_opt') %>
        <% end %>
    <% end %>

    <% if registration.present? %>
        <%= option.name %>
        <%= link_to t('.delete'), registration_path(registration), data: {turbo_method: :delete, turbo_confirm: t('.delete_confirm')}, class: 'delete_button' %>
    <% end %>
</div>